@import "bootstrap/functions";
@import "bootstrap/variables";
@import "variables";
@import "bootstrap/mixins";

@import "bootstrap/reboot";
@import "bootstrap/type";
@import "bootstrap/utilities";
@import "bootstrap/jumbotron";
@import "bootstrap/card";
@import "bootstrap/buttons";
@import "bootstrap/badge";
@import "bootstrap/breadcrumb";
@import "bootstrap/nav";
@import "bootstrap/pagination";

@import "compass";

@import "dracula";
@import "mixins";
@import "partials/header";
@import "partials/footer";
@import "partials/content";

html,
body {
  @include display-flex;
  @include flex-direction(column);
  min-height: 100%;
}

body {
  @include flex-grow(1);
}

h1, h2, h3, h4, h5, h6, p, ul, ol, dl, pre {
  margin-bottom: 0;
}

section,
article,
blockquote,
div {
  > p {
    text-indent: 2em;
  }
}

h1 {
  text-align: center;
}

img {
  @include img-fluid;
  @include border-radius($thumbnail-border-radius);
}

.jumbotron {
  @include flexbox((
    align-self: center,
    display: flex,
    flex-direction: column,
    flex-grow: 1,
    ));
  width: 100%;
  max-width: 64em;
  margin-bottom: 0;
}

.breadcrumb {
  font-size: $h5-font-size;
  
  h1 {
    display: inline;
    font-size: $h5-font-size;
  }
}

[aria-label~="navigation"] {
  @include align-self(center);
  margin-top: auto;
}

[aria-label~="posts"] {
  @include flexbox((
    align-self: stretch,
    display: flex,
    justify-content: center,
    ));

  ul {
    @include flexbox((
      display:flex,
      flex-direction: column,
      max-width: 20em,
      ));
    @include media-breakpoint-up(sm) {
      @include flex-direction(row);
      max-width: 40em;
    };
    @include flex-grow(1);
  }

  li {
    @include media-breakpoint-up(sm) {
      width: 50%;
    };
  }

  .page-link {
    @include text-truncate;
  }
}

.fa-1x {
  @include size(1em);
}

.fa-2x {
  @include size(2em);
}

.tags {
  padding-left: 1.25em;
  background-image: inline-image("tags.svg");
  background-size: 1em 1em;
  background-position: center left;
  background-repeat: no-repeat;

  list-style: none;

  li {
    display: inline-block;
  }

  + time {
    font-size: 90%;
    text-align: right;
    padding-bottom: 0.5em;
  }
}

.bookshelf {
  @include flexbox((
    display: flex,
    flex-wrap: wrap,
    ));
}

.cover {
  @include make-col-ready(2em);

  @include media-breakpoint-down(sm) {
    @include make-col-ready(1em);
    @include make-col(6);

    &:nth-child(2n+1):nth-last-child(-n+2),
    &:nth-child(2n+1):nth-last-child(-n+2) ~ & {
      border-bottom: 0;
    }
  }

  @include media-breakpoint-up(sm) {
    @include make-col(4);
    
    &:nth-child(3n+1):nth-last-child(-n+3),
    &:nth-child(3n+1):nth-last-child(-n+3) ~ & {
      border-bottom: 0;
    }
  }

  @include media-breakpoint-up(md) {
    @include make-col(3);

    &:nth-child(4n+1):nth-last-child(-n+4),
    &:nth-child(4n+1):nth-last-child(-n+4) ~ & {
      border-bottom: 0;
    }
  }

  @include flexbox((
    display: flex,
    flex-direction: column,
    ));
  border-bottom: $hr-border-width solid $dark;
  margin-bottom: 2em;

  h2 {
    font-size: $h5-font-size;
    margin-top: $headings-margin-bottom;
  }
}

.content {
  @include media-breakpoint-up(sm) {
    @include make-col(10);
  };
  @include media-breakpoint-up(md) {
    @include make-col(9);
  };
  @include media-breakpoint-up(lg) {
    @include make-col(8);
  };
  @include align-self(center);
}

.archive {
  h2 {
    text-align: center;
  }
}

.book-aside {
  @include flexbox((
    align-self: stretch,
    display: flex,
    flex-wrap: wrap,
    justify-content: center,
    ));

  section {
    @include flex-grow(1);
    max-width: 20rem;
  }

  ul {
    list-style: none;
    padding: 1em;
  }

  span {
    color: $text-muted
  }

}
