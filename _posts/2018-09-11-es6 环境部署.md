---
title: ES6 环境部署
date: 2018-09-11 14:30:02 +0800
categories: 计算
tags: [配置]
---
因为浏览器还不能支持ES6 的所有特性，所以需要借助转换器来将ES6 代码转换成“安全”的ES5 代码，这样才能保证这些代码可以运行在任何浏览器上。

## 构建工具[gulp](https://gulpjs.com/)

$`npm install -g gulp`

$`npm init`

$`npm install gulp --save-dev`

---

## 转换器[babel](https://babeljs.io/)

$`npm install --save-dev gulp-babel @babel/core @babel/preset-env`

$`vi .babelrc`

```json
{
  "presets": ["@babel/preset-env"]
}
```

---

## 格式审查工具 [eslint](http://eslint.cn/)

$`npm install -g eslint`

$`eslint --init`

$`npm install gulp-eslint --save-dev`

---

## Gulpfile

$`vi gulpfile.js`

```javascript
const gulp = require("gulp");
const babel = require("gulp-babel");
const eslint = require("gulp-eslint");

gulp.task("default", function () {
    gulp.src("es6/**/*.js")
        .pipe(eslint())
        .pipe(eslint.format())
        .pipe(eslint.failAfterError());
    gulp.src("es6/**/*.js")
        .pipe(babel())
        .pipe(gulp.dest("dist"));
});
```

---

## 项目结构

 ```yaml
mysite:
 - dist
 - es6
 - node_modules
 - .babelrc
 - .eslintrc.json
 - gulpfile.js
 - package.json
 - package-lock.json
```